<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/lab8.css') }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .btn { display: inline-block; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; }
        .btn-primary { background: #4CAF50; color: white; }
        .btn-danger { background: #f44336; color: white; }
        .alert { padding: 15px; margin: 15px 0; border-radius: 4px; }
        .alert-success { background: #d4edda; color: #155724; }
        .alert-danger { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <header style="background: #333; color: white; padding: 1rem 0;">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center;">
            <h1 style="font-size: 1.5rem;">
                <a href="{{ url_for('lab8.index') }}" style="color: white; text-decoration: none;">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</a>
            </h1>
            <nav>
                <a href="{{ url_for('lab8.index') }}" style="color: white; margin: 0 10px; text-decoration: none;">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="{{ url_for('lab8.article_list') }}" style="color: white; margin: 0 10px; text-decoration: none;">–°—Ç–∞—Ç—å–∏</a>
                <a href="{{ url_for('lab8.create_article') }}" style="color: white; margin: 0 10px; text-decoration: none;">–°–æ–∑–¥–∞—Ç—å</a>
                
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('lab8.profile') }}" style="color: white; margin: 0 10px; text-decoration: none;">–ü—Ä–æ—Ñ–∏–ª—å</a>
                    <a href="{{ url_for('lab8.logout') }}" style="color: white; margin: 0 10px; text-decoration: none;">–í—ã–π—Ç–∏</a>
                    <span style="margin-left: 10px;">{{ current_user.login }}</span>
                {% else %}
                    <a href="{{ url_for('lab8.login') }}" style="color: white; margin: 0 10px; text-decoration: none;">–í–æ–π—Ç–∏</a>
                    <a href="{{ url_for('lab8.register') }}" style="color: white; margin: 0 10px; text-decoration: none;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                {% endif %}
            </nav>
        </div>
    </header>

    <main style="min-height: calc(100vh - 150px); padding: 2rem 0;">
        <div class="container">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category if category != 'message' else 'info' }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            
            {% block content %}
            <h2 style="margin-bottom: 1rem;">{% block page_title %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 8{% endblock %}</h2>
            {% block main %}{% endblock %}
            {% endblock %}
        </div>
    </main>

    <footer style="background: #333; color: white; padding: 1rem 0; text-align: center;">
        <div class="container">
            <p>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ8 | WEB-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ | 2025 –≥–æ–¥</p>
            <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π</p>
        </div>
    </footer>

    <script>
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
        setTimeout(() => {
            document.querySelectorAll('.alert').forEach(alert => {
                alert.style.transition = 'opacity 0.5s';
                alert.style.opacity = '0';
                setTimeout(() => alert.remove(), 500);
            });
        }, 5000);
        
        // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
        document.querySelectorAll('form[data-confirm]').forEach(form => {
            form.addEventListener('submit', function(e) {
                if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é?')) {
                    e.preventDefault();
                }
            });
        });
    </script>
</body>
</html>